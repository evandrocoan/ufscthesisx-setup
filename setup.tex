


% Applying options to already loaded package
% https://tex.stackexchange.com/questions/124049/applying-options-to-already-loaded-package
%
% For web links and paths with \path{..} and \url{https://www.python.org/downloads/}
% https://tex.stackexchange.com/questions/3033/forcing-linebreaks-in-url
% ftp://tug.ctan.org/pub/tex-archive/macros/latex/contrib/hyperref/doc/options.pdf
\PassOptionsToPackage{hyphens}{url}

% Use its macro adjustwidth* to extend tables out of outer text border.
% https://tex.stackexchange.com/questions/366155/how-to-write-a-table-a-little-larger-than-the-paragraphs-with-centered-columns
\PassOptionsToPackage{strict}{changepage}

% Linked footnotes are not supported inside environment `tabularx', because they
% uses the optional argument of \footnotetext
% http://ctan.sharelatex.com/tex-archive/macros/latex/contrib/hyperref/README.pdf
\PassOptionsToPackage{hyperfootnotes=false}{hyperref}

% The class `abntex2` loads the `enumitem` package with options.
%
% With the package option shortlabels you can use an enumerate-like syntax, where A, a, I, i and 1
% stand for \Alph*, \alph*, \Roman*, \roman* and \arabic*. This is intended mainly as a sort of
% compatibility mode with the enumerate package, and therefore the following special rule applies:
% if the very first option (at any level) is not recognized as a valid key, then it will be
% considered a label with the enumerate-like syntax.
%
% No spacing between enumerated items with \usepackage{enumerate}
% https://tex.stackexchange.com/questions/119919/no-spacing-between-enumerated-items-with-usepackageenumerate
\PassOptionsToPackage{shortlabels}{enumitem}

% Fixes `pdfTeX warning (ext4): destination with the same identifier (name{figure.1.1}) has been
% already used, duplicate ignored`.
%
% The `abntex2` package loads the `hyperref` package, however there are several packages which are
% required to be loaded after and before `hyperref`.
%
% Which packages should be loaded after hyperref instead of before?
% https://tex.stackexchange.com/questions/1863/which-packages-should-be-loaded-after-hyperref-instead-of-before
%
% Hyperref is loaded by the class, and I need to load packages that are supposed to be loaded before
% https://tex.stackexchange.com/questions/50846/hyperref-is-loaded-by-the-class-and-i-need-to-load-packages-that-are-supposed-t
%
% Using \BeforePackage to load a package before hyperref does not work
% https://tex.stackexchange.com/questions/51094/using-beforepackage-to-load-a-package-before-hyperref-does-not-work
\RequirePackage{scrlfile}
\AfterClass{memoir}
{
    \RequirePackage{float}
}

% The class `abntex2` loads the package `enumitem`, but `paralist` must be loaded before it
% https://tex.stackexchange.com/questions/162799/compilation-error-when-including-enumitem-and-paralist-packages
\AfterClass{memoir}
{
    % How to make horizontal lists?
    % https://tex.stackexchange.com/questions/146306/how-to-make-horizontal-lists
    \RequirePackage{paralist}
}

% Biblatex error: Incompatible backref package
% https://tex.stackexchange.com/questions/383054/biblatex-error-incompatible-backref-package
%
% backreferencing in classicthesis package does not work
% https://tex.stackexchange.com/questions/115828/backreferencing-in-classicthesis-package-does-not-work
%
% Citação alfabética por autor-data [alf], Why my biblatex document is not accepting UTF-8 on the bibliography?
% https://tex.stackexchange.com/questions/390349/why-my-biblatex-document-is-not-accepting-utf-8-on-the-bibliography
\PassOptionsToPackage{style=abnt,backref=true,backend=biber,citecounter=true}{biblatex}
\AfterClass{memoir}
{
    \RequirePackage{biblatex}
}

% Package longtable must be put before hyperref and arydshln, hyperref after arydshln generates an error
% http://ctan.sharelatex.com/tex-archive/macros/latex/contrib/hyperref/README.pdf
\AfterClass{memoir}
{
    \RequirePackage{longtable}
}

% The UFSC font size is 10.5, but memoir embbeded on `abntex2` only accepts 10 and 11pt. However
% this will be fixed later by the abntex2-ufsc package.
%
% You can see whether the font sizes are correct with the \f@size at the `\begin{document}`.
\documentclass[
10pt,
a5paper,
twoside, % Impressão nos dois lados da folha
chapter=TITLE, % Título de capítulos em caixa alta
section=TITLE  % Título de seções em caixa alta
]{abntex2}

% How to silence memoir class warning against the use of caption package?
% https://tex.stackexchange.com/questions/391993/how-to-silence-memoir-class-warning-against-the-use-of-caption-package
\usepackage{silence}
\WarningFilter*{memoir}{You are using the caption package with the memoir class}

% Custom list throw LaTeX Error: Command \mycustomfiction already defined?
% https://tex.stackexchange.com/questions/388489/custom-list-throw-latex-error-command-mycustomfiction-already-defined
\usepackage{morewrites}


% If document class is equal to something then do not use package
% https://tex.stackexchange.com/questions/46223/if-document-class-is-equal-to-something-then-do-not-use-package
\makeatletter
\@ifclassloaded{abntex2}
{
    % Package hyperref Warning: Token not allowed in a PDF string?
    % https://tex.stackexchange.com/questions/384885/package-hyperref-warning-token-not-allowed-in-a-pdf-string
    \pdfstringdefDisableCommands{\let\uppercase\relax}
}{}
\makeatother

% Package csquotes Warning: Load 'inputenc' before 'csquotes'
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Package biblatex Warning: 'babel/polyglossia' detected but 'csquotes' missing
% https://tex.stackexchange.com/questions/229638/package-biblatex-warning-babel-polyglossia-detected-but-csquotes-missing
\usepackage{csquotes}

% How can I put more space between bibliography entries (biblatex)
% https://tex.stackexchange.com/questions/19105/how-can-i-put-more-space-between-bibliography-entries-biblatex
\setlength\bibitemsep{1.8\itemsep}

% Backward compatibility with `abntex2cite` package `\citeonline` command with the new `biblatex` package
\let\citeonline\textcite

% Reduce font size of bibliography; overfull bibliography
% https://tex.stackexchange.com/questions/203764/reduce-font-size-of-bibliography-overfull-bibliography
\newcommand{\bibliographyfontsize}{\fontsize{10.0pt}{10.5pt}\selectfont}
\renewcommand*{\bibfont}{\bibliographyfontsize}


